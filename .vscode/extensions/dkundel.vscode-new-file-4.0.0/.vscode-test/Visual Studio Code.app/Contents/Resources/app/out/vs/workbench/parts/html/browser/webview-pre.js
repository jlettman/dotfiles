/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
!function(){"use strict";function e(e){e&&(e.classList.remove("vscode-light","vscode-dark","vscode-high-contrast"),e.classList.add(r.activeTheme))}function t(){return document.getElementById("active-frame")}function n(){return document.getElementById("pending-frame")}const o=require("electron").ipcRenderer;var i,s=!0,c=[];const r={initialScrollProgress:void 0};var a=!1;document.addEventListener("DOMContentLoaded",function(){o.on("baseUrl",function(e,t){r.baseUrl=t}),o.on("styles",function(n,o,i){r.styles=o,r.activeTheme=i;var s=t();if(s){e(s.contentDocument.getElementsByTagName("body")[0]);var c=s.contentDocument.getElementById("_defaultStyles");c&&(c.innerHTML=r.styles)}}),o.on("focus",function(){const e=t();e&&e.contentWindow.focus()}),o.on("content",function(l,d){const u=d.options,m=d.contents.join("\n"),f=(new DOMParser).parseFromString(m,"text/html");if(r.baseUrl&&0===f.head.getElementsByTagName("base").length){const e=f.createElement("base");e.href=r.baseUrl,f.head.appendChild(e)}const h=f.createElement("style");h.id="_defaultStyles",h.innerHTML=r.styles,f.head.hasChildNodes()?f.head.insertBefore(h,f.head.firstChild):f.head.appendChild(h),e(f.body);const g=t();var v;if(s)s=!1,v=function(e){isNaN(r.initialScrollProgress)||0===e.scrollTop&&(e.scrollTop=e.clientHeight*r.initialScrollProgress)};else{const e=g&&g.contentDocument&&g.contentDocument.body?g.contentDocument.body.scrollTop:0;v=function(t){0===t.scrollTop&&(t.scrollTop=e)}}const b=n();b&&(b.setAttribute("id",""),document.body.removeChild(b)),c=[];const y=document.createElement("iframe");y.setAttribute("id","pending-frame"),y.setAttribute("frameborder","0"),y.setAttribute("sandbox",u.allowScripts?"allow-scripts allow-forms allow-same-origin":"allow-same-origin"),y.style.cssText="display: block; margin: 0; overflow: hidden; position: absolute; width: 100%; height: 100%; visibility: hidden",document.body.appendChild(y),y.contentDocument.open("text/html","replace"),y.contentWindow.onbeforeunload=function(){return console.log("prevented webview navigation"),!1};var p=function(e,i){e.body&&(v(e.body),e.body.addEventListener("click",function(e){if(e&&e.view&&e.view.document)for(var t=e.target;t;){if(t.tagName&&"a"===t.tagName.toLowerCase()&&t.href){var n=e.view.document.getElementsByTagName("base")[0];if("#"===t.getAttribute("href"))e.view.scrollTo(0,0);else if(t.hash&&(t.getAttribute("href")===t.hash||n&&t.href.indexOf(n.href)>=0)){var i=e.view.document.getElementById(t.hash.substr(1,t.hash.length-1));i&&i.scrollIntoView()}else o.sendToHost("did-click-link",t.href);e.preventDefault();break}t=t.parentNode}}));const s=n();if(s&&s.contentDocument===e){const e=t();e&&document.body.removeChild(e),s.setAttribute("id","active-frame"),s.style.visibility="visible",i.addEventListener("scroll",function(e){if(a)return;const t=e.target.body.scrollTop/e.target.body.clientHeight;isNaN(t)||(a=!0,window.requestAnimationFrame(function(){try{o.sendToHost("did-scroll",t)}catch(e){}a=!1}))}),c.forEach(function(e){i.postMessage(e,document.location.origin)}),c=[]}};clearTimeout(i),i=void 0,i=setTimeout(function(){clearTimeout(i),i=void 0,p(y.contentDocument,y.contentWindow)},200),y.contentWindow.addEventListener("load",function(e){i&&(clearTimeout(i),i=void 0,p(e.target,this))}),y.contentDocument.write("<!DOCTYPE html>"),y.contentDocument.write(f.documentElement.innerHTML),y.contentDocument.close(),o.sendToHost("did-set-content")}),o.on("message",function(e,o){if(n())c.push(o);else{const e=t();e&&e.contentWindow.postMessage(o,document.location.origin)}}),o.on("initial-scroll-position",function(e,t){r.initialScrollProgress=t}),window.onmessage=function(e){o.sendToHost(e.data.command,e.data.data)},o.sendToHost("webview-ready",process.pid)})}();
//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/dcee2202709a4f223185514b9275aa4229841aa7/core/vs/workbench/parts/html/browser/webview-pre.js.map
